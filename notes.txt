
* koneen todo loppuun
* tee jossain vaiheessa feature list vertaamalla pdb:hen
* dokumentoi että seapie yrittää piilottaa itsensä tracebakeistä mitä se printtaa vaikka seapie asuukin samassa stakisa kuin kaikki muu. sys._getframe(0) on seapie eikä ohjelma.
* mieti jokaiselle Nonellle että kuuluuko siihen baarissa mieluumin error? tetty pitää olla yhteensopva taika muuttujien kansa kyllä


later:
    * ajatuksella rivi rivltä code review
    * dokumentoi kaikki taikamuuttujat mitkä on saatavilla ja että päivittyy per step. __file__ muutenkin kyl.
      päivittyy itseasiassa vielä useammin koska !u esim muuttaa ne
    * dokumentoi että objektit varastoidaan pikleina levylle ja piklet ei oo turvallisia.
    * getchistä paketti githubiin? vai tee sittenkin oma input koska historia?
    * tarkista että jokainen bangi käyttää returnissa aina jotain validia palautus arvoa....
    * dokumentoi funktiot lukemalla koodi että jotkut ominaisuudet ei unohdu, oma code review koska ei voi unit testaa.
      vai voiko tälle tehdä unit testit? ei taida olla worth kyllä.
    * johonki nootti että debuggerin ei pitisi kaatua koskaan, bugi report pls jos kaatuu.
    * manuaali testaa jokainen rivi jos vain mahdollista ennen releasea. huh huh.
    * Maybe do something useful with ! and !! and !!! and _ and __ and ___
    * tee open for contriutions banneri
    * kerro sonjalle seapie. jounille sama. myös topias ja anssi ja olli ja glukosi ja patrik
    * kaivele kaikki pyton discordit läpit showcase kanavien varalle kun valmis
    * reddit ja hacker news postit
    * tämä fixaa kaksi tyhmää vikaa mitä pdb:ssä on: pdb kaatuu jos tracetat exit() ja tää ei trace error printtausta
    * selitä taikamuuttujat ___ jos se edes on mukana




seapie versio herja pitää antaa startissa eikä importissa, ja muista fuse

readmehen relase numero badge?
readmehen size badge?
johonki lyhenteen avaus
lisää siihen herjaan että älä aja interaktiivisesti ihan minimi esimerkki pyton filestä
3.12 recommended but not necessary siihen herjaan
!w enemmän rivejä
https://www.slant.co/topics/2691/~best-python-debuggers
https://python.libhunt.com/ipdb-alternatives
https://wiki.python.org/moin/PythonDebuggingTools
https://stackoverflow.com/questions/477193/suggestions-for-python-debugging-tools
  edit
  pudb malli. esim maininta graphical
status baariin enemmän source rivejä
variable watchlist
herja että 3.12 !!or newer!! recommended ja vain kerran tää printti

remote notes:
    remote host should fail after N incorrect passwords.
    remote host should have option for time out.
    ssh should be used to reach the remote host
    use ssl socket
    dokumentoi least priviledge principle
    https://docs.python.org/3/library/ssl.html
    jos forwattuja portteja niin localhostin kuuntelu ei pelasta.
    koko trace kutsu pitää ignoree jos ei oo eka connection. mieti jos callback toistuu.
    tee esimerkki miten prodiin jätetään hookki
    mahdollista prodin monkey patch remote debuggauksella?


tips:
    from seapie import prompt as breakpoint
    you can move objects between sessions or between scopes by pickling them


known issues:
    * defining recursive functions only works in the global scope in the prompt
    * seapie can sometimes behave unexpectedly or in confusing manner if used in the interactive interpreter.
      this is especially true for using !c or !s such that you would return to the global scope in the interpreter.
      additionally opening seapie in comprehension such as list comprehension in the interactive interpreter
      has undefined behaviour. a workaround is to call !r when returning control to the python interpeter from
      the seapie prompt instead of calling !s. the workaround to list comprehensions is....
      todo: tutki korjaantuuko tää jos käyttää sys._getframe f_backin sijaan prompt()issa
    * jos oot interactive interpreereissä niin ei pidä steppaa vaan mieluummon !r koska se lopettaa tracettamisen.
      * !s saa aikaan sen että seapie aukeaa uudelleen vaan suoraan.
    * currently using in interpreter is not supported?
    * tldr on että !step ja !condition on unsupported interactive interpreteriss
    ä
    # Note: In interactive interpreter last_exc will never clear. This is
    # why seapie is not supported in interactive mode; it will fail to
    # start if any exception has happened prior to seapie call. There are
    # also other issues such as stepping causing hard-to-define behaviour.
    # !t is also mostly useless and !w will always fail.


identifiers etc:
    keywords = ['debugger', 'seapie', 'interactive', 'injection', 'inject', 'repl', 'debg', 'exec'],
    'Development Status :: 5 - Production/Stable',
    'Intended Audience :: Developers',
    'Topic :: Software Development :: Build Tools',
    'License :: Other/Proprietary License',
    'Programming Language :: Python :: 3.7',
    Platform: any
    Classifier: Development Status :: 5 - Production/Stable
    Classifier: Intended Audience :: Developers
    Classifier: Topic :: Software Development :: Build Tools
    Classifier: License :: Other/Proprietary License
    Classifier: Programming Language :: Python :: 3.7


wanha:
    _Have you ever wanted to just open the normal interactive prompt inside of your program and then continue?_\
    _Have you ever wanted to debug something without ton of print()s but builtin debugger seems too clumsy?_
    _Me too. I also got solution for it below._
    ```seapie``` stands for Scope Escaping Arbitrary Python Injection Executor
    Platform independent. Only requirement is CPython api. If you don't know what this is everything should likely work out of the box
    A picture tells more than thousands words. Internal !help shown below
    * Start tracing or to just open interactive prompt: ```from seapie import seapie;seapie()``` and maybe enter ```!help```
    * Breakpoint your currently onging tracing: step until next ```seapie()``` by using ```!run``` or whatever suits you
    * Send me email or any message anywhere if you have suggestions
    Distributed under [The Unlicense](https://choosealicense.com/licenses/unlicense/) <img src="./images/unlicense.png" width="12" height="12"/> by Markus Hirsimäki in 2019 and 2020





ja pitäskö info printtaa aina? hmhmmm.."""

ja tee niin että jokainen bang tarkistaa voiko ajaa et onko escape lvl oikein

            # todo onko hide lvlit oikein



puuttuu:
        #if seapie.helpers.step_until_condition(working_f): return repl


simple, elegant, intuitive. unlike pdb
powerful stepping

tee args raises etc dokumentaatio
tarkista että kaikki error handlerit toimii oikein ja että ne piilottaa framet oikein
yritä poistaa callstack escape lvl

up ja down vie nyt loputtmasti ylös tai alas. riski. current woing f nimi
pitäs laittaa handlereihin. ja get working f ja se leveli pois.
liima invert coloria printteihi?
toimiiko mimic traceback oikein jos on up ja down stepattu? ja entä !t että onko eroa raiseen tai legit erroriin
up ja down vois printtaa stäkin. ehkä invert se valittu.



_ ei oo asetettu, eikä myöskään __ ja ___
IPython: The IPython environment injects several variables, such as _, __, and ___ to represent the last, second to last, and third to last output results, respectively.
Jupyter Notebook: Uses variables like _i, _ii, etc., to store input history, and _oh for output history.


the spec is that it should work like the interpreter. if you find inconsistencies, report them.


repl vois olla luokan callable, sitten input current frame ja kaikki olis selffissä.
tai sit ei. turhaa kompleksisuutta?

# poista STATE kokonaan, inject magic vain enää tarvii selitä
# tee toimiva command map. passaa kaikille valmiikski parsittu extra arg jos tarvii bangille


frame ja working frame pitäs olla yhtenäisiä

tarkista kaikkien printtien tarve reagoida terminaalin kokoon






refaktoroi
e, r, h, i, s, t, f, c, g
exit, run, help, info, step, traceback, callstack, goto
      ---                               ---------

-->
quit, exit, continue, help, info, step, traceback, up, down, reset, goto
----        ---------                              --  ----  -----

ctrlf printit, pisteet paikalleen? tai ei minnekkään?

laita built in pretty print käyttöön ja vipu tarjolle?
orig_displayhook = sys.displayhook

def myhook(value):
    if value != None:
        __builtins__._ = value
        pprint.pprint(value)




chatgpt postmortem.



!exit
!quit?

!step
!run

!goto
!info(+!traceback)
!prettyprint

!ascend
!descend # ei tarvi reset. step palauttaa aina uuden framen.


!until <source>
!until 123
!until call
!until line
!until return
!until exception


!frame? (muttakun voi !a ja !d)


peru että kaikissa handlereissä on f e a eikä koko nimet. hirvee lukee.
handlers file on rikki jossai? ja !e ei toimi.

steppi tulostamaan missä ollaan
c call tracing?
multihread support?




refaktorointi: handle_input repliin

unlike pdb, can actually modify state of the script arbitrarily





todo: !until vois korvata replin toisella funktiolla hetkeksi?